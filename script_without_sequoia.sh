#!/bin/bash

# Mac Model Identifier
MAC_MODEL=$(/usr/sbin/sysctl -n hw.model)

# Lists of compatible Macs for each OS
COMPATIBLE_MACOS_14_REGEX="^(iMac19,2|iMac19,2|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMac20,1|iMac20,1|iMac20,1|iMac20,1|iMac20,2|iMac20,2|iMac21,2|iMac21,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|MacBookAir8,1|MacBookAir8,2|MacBookAir9,1|MacBookAir9,1|MacBookAir9,1|MacBookAir10,1|MacBookAir10,1|Mac14,2|Mac14,2|Mac14,15|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,4|MacBookPro15,4|MacBookPro16,1|MacBookPro16,1|MacBookPro16,1|MacBookPro16,3|MacBookPro16,3|MacBookPro16,2|MacBookPro16,2|MacBookPro16,4|MacBookPro16,4|MacBookPro16,4|MacBookPro17,1|MacBookPro18,3|MacBookPro18,3|MacBookPro18,3|MacBookPro18,4|MacBookPro18,4|MacBookPro18,1|MacBookPro18,2|MacBookPro18,2|Mac14,7|Mac14,9|Mac14,9|Mac14,5|Mac14,5|Mac14,10|Mac14,6|Mac14,6|Macmini8,1|Macmini8,1|Macmini8,1|Macmini9,1|Mac14,3|Mac14,12|Mac14,12|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|Mac14,8|Mac14,8|Mac14,8|Mac14,8|Mac13,1|Mac13,1|Mac13,2|Mac13,2|Mac14,13|Mac14,13|Mac14,14|Mac14,14)"
COMPATIBLE_MACOS_13_REGEX="^(iMac18,2|iMac18,2|iMac18,2|iMac19,2|iMac19,2|iMac19,2|iMac21,2|iMac21,1|iMac18,3|iMac18,3|iMac18,3|iMac18,3|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMac20,1|iMac20,1|iMac20,1|iMac20,1|iMac20,2|iMac20,2|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|Macmini8,1|Macmini8,1|Macmini8,1|Macmini9,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|Mac13,1|Mac13,1|Mac13,2|Mac13,2|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir8,1|MacBookAir8,2|MacBookAir9,1|MacBookAir9,1|MacBookAir9,1|MacBookAir10,1|MacBookAir10,1|Mac14,2|Mac14,2|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,4|MacBookPro15,4|MacBookPro16,3|MacBookPro16,3|MacBookPro16,2|MacBookPro16,2|MacBookPro17,1|Mac14,7|MacBookPro18,3|MacBookPro18,3|MacBookPro18,3|MacBookPro18,4|MacBookPro18,4|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro16,1|MacBookPro16,1|MacBookPro16,1|MacBookPro16,4|MacBookPro16,4|MacBookPro16,4|MacBookPro18,1|MacBookPro18,2|MacBookPro18,2)"
COMPATIBLE_MACOS_12_REGEX="^(iMac16,2|iMac16,2|iMac16,2|iMac18,1|iMac18,2|iMac18,2|iMac18,2|iMac19,2|iMac19,2|iMac19,2|iMac17,1|iMac17,1|iMac17,1|iMac18,3|iMac18,3|iMac18,3|iMac18,3|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMac20,1|iMac20,1|iMac20,1|iMac20,1|iMac20,2|iMac20,2|iMac21,2|iMac21,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|Macmini8,1|Macmini8,1|Macmini8,1|Macmini9,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir8,1|MacBookAir8,2|MacBookAir9,1|MacBookAir9,1|MacBookAir9,1|MacBookAir10,1|MacBookAir10,1|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro13,1|MacBookPro13,1|MacBookPro13,2|MacBookPro13,2|MacBookPro13,2|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,2|MacBookPro15,4|MacBookPro15,4|MacBookPro16,3|MacBookPro16,3|MacBookPro16,2|MacBookPro16,2|MacBookPro17,1|MacBookPro18,3|MacBookPro18,3|MacBookPro18,3|MacBookPro18,4|MacBookPro18,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|MacBookPro13,3|MacBookPro13,3|MacBookPro13,3|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro16,1|MacBookPro16,1|MacBookPro16,1|MacBookPro16,4|MacBookPro16,4|MacBookPro16,4|MacBookPro18,1|MacBookPro18,2|MacBookPro18,2)"
COMPATIBLE_MACOS_11_REGEX="^(iMac15,1|iMac15,1|iMac15,1|iMac16,1|iMac16,2|iMac16,2|iMac16,2|iMac17,1|iMac17,1|iMac17,1|iMac18,1|iMac18,2|iMac18,2|iMac18,2|iMac18,3|iMac18,3|iMac18,3|iMac18,3|iMac19,2|iMac19,2|iMac19,2|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir8,1|MacBookAir8,2|MacBookAir9,1|MacBookAir9,1|MacBookAir9,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|MacBookPro13,1|MacBookPro13,1|MacBookPro13,2|MacBookPro13,2|MacBookPro13,2|MacBookPro13,3|MacBookPro13,3|MacBookPro13,3|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,4|MacBookPro15,4|MacBookPro16,1|MacBookPro16,1|MacBookPro16,1|MacBookPro16,3|MacBookPro16,3|MacBookPro16,2|MacBookPro16,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|Macmini8,1|Macmini8,1|Macmini8,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1|MacPro7,1)"
COMPATIBLE_MACOS_10_15_REGEX="^(iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|iMac15,1|iMac15,1|iMac15,1|iMac16,1|iMac16,2|iMac16,2|iMac16,2|iMac17,1|iMac17,1|iMac17,1|iMac18,1|iMac18,2|iMac18,2|iMac18,2|iMac18,3|iMac18,3|iMac18,3|iMac18,3|iMac19,2|iMac19,2|iMac19,2|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir8,1|MacBookAir8,2|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|MacBookPro13,1|MacBookPro13,1|MacBookPro13,2|MacBookPro13,2|MacBookPro13,2|MacBookPro13,3|MacBookPro13,3|MacBookPro13,3|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,4|MacBookPro15,4|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|Macmini8,1|Macmini8,1|Macmini8,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1)"
COMPATIBLE_MACOS_10_14_REGEX="^(iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|iMac15,1|iMac15,1|iMac15,1|iMac16,1|iMac16,2|iMac16,2|iMac16,2|iMac17,1|iMac17,1|iMac17,1|iMac18,1|iMac18,2|iMac18,2|iMac18,2|iMac18,3|iMac18,3|iMac18,3|iMac18,3|iMac19,2|iMac19,2|iMac19,1|iMac19,1|iMac19,1|iMac19,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|iMacPro1,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookAir8,1|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|MacBookPro13,1|MacBookPro13,1|MacBookPro13,2|MacBookPro13,2|MacBookPro13,2|MacBookPro13,3|MacBookPro13,3|MacBookPro13,3|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|MacBookPro15,2|MacBookPro15,2|MacBookPro15,1|MacBookPro15,1|MacBookPro15,3|MacBookPro15,1|MacBookPro15,3|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|Macmini8,1|Macmini8,1|Macmini8,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1)"
COMPATIBLE_MACOS_10_13_REGEX="^(iMac10,1|iMac10,1|iMac10,1|iMac10,1|iMac11,1|iMac11,1|iMac11,2|iMac11,2|iMac11,2|iMac11,3|iMac11,3|iMac11,3|iMac11,3|iMac12,1|iMac12,1|iMac12,1|iMac12,2|iMac12,2|iMac12,2|iMac12,1|iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|iMac15,1|iMac15,1|iMac15,1|iMac16,1|iMac16,2|iMac16,2|iMac16,2|iMac17,1|iMac17,1|iMac17,1|iMac18,1|iMac18,2|iMac18,2|iMac18,2|iMac18,3|iMac18,3|iMac18,3|iMac18,3|MacBook6,1|MacBook7,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBook10,1|MacBook10,1|MacBook10,1|MacBookAir3,1|MacBookAir3,1|MacBookAir3,2|MacBookAir3,2|MacBookAir4,1|MacBookAir4,1|MacBookAir4,2|MacBookAir4,2|MacBookAir4,2|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookAir7,2|MacBookPro7,1|MacBookPro7,1|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,1|MacBookPro6,1|MacBookPro6,1|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|MacBookPro13,1|MacBookPro13,1|MacBookPro13,2|MacBookPro13,2|MacBookPro13,2|MacBookPro13,3|MacBookPro13,3|MacBookPro13,3|MacBookPro14,1|MacBookPro14,1|MacBookPro14,2|MacBookPro14,2|MacBookPro14,2|MacBookPro14,3|MacBookPro14,3|MacBookPro14,3|Macmini4,1|Macmini4,1|Macmini4,1|Macmini5,1|Macmini5,2|Macmini5,2|Macmini5,3|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1)"
COMPATIBLE_MACOS_10_12_REGEX="^(iMac10,1|iMac10,1|iMac10,1|iMac10,1|iMac11,1|iMac11,1|iMac11,2|iMac11,2|iMac11,2|iMac11,3|iMac11,3|iMac11,3|iMac11,3|iMac12,1|iMac12,1|iMac12,1|iMac12,2|iMac12,2|iMac12,2|iMac12,1|iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|iMac15,1|iMac15,1|iMac15,1|iMac16,1|iMac16,2|iMac16,2|iMac16,2|iMac17,1|iMac17,1|iMac17,1|MacBook6,1|MacBook7,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBook9,1|MacBook9,1|MacBook9,1|MacBookAir3,1|MacBookAir3,1|MacBookAir3,2|MacBookAir3,2|MacBookAir4,1|MacBookAir4,1|MacBookAir4,2|MacBookAir4,2|MacBookAir4,2|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookPro7,1|MacBookPro7,1|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,1|MacBookPro6,1|MacBookPro6,1|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|Macmini4,1|Macmini4,1|Macmini4,1|Macmini5,1|Macmini5,2|Macmini5,2|Macmini5,3|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1)"
COMPATIBLE_MACOS_10_11_REGEX="^(iMac7,1|iMac7,1|iMac7,1|iMac7,1|iMac8,1|iMac8,1|iMac8,1|iMac8,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac10,1|iMac10,1|iMac10,1|iMac10,1|iMac11,1|iMac11,1|iMac11,2|iMac11,2|iMac11,2|iMac11,3|iMac11,3|iMac11,3|iMac11,3|iMac12,1|iMac12,1|iMac12,1|iMac12,2|iMac12,2|iMac12,2|iMac12,1|iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|iMac15,1|iMac15,1|iMac15,1|MacBook5,1|MacBook5,1|MacBook5,2|MacBook5,2|MacBook6,1|MacBook7,1|MacBook8,1|MacBook8,1|MacBook8,1|MacBookAir2,1|MacBookAir2,1|MacBookAir2,1|MacBookAir2,1|MacBookAir3,1|MacBookAir3,1|MacBookAir3,2|MacBookAir3,2|MacBookAir4,1|MacBookAir4,1|MacBookAir4,2|MacBookAir4,2|MacBookAir4,2|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir7,1|MacBookAir7,1|MacBookAir7,2|MacBookAir7,2|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro5,1|MacBookPro5,1|MacBookPro5,1|MacBookPro5,2|MacBookPro5,2|MacBookPro5,1|MacBookPro5,1|MacBookPro5,5|MacBookPro5,5|MacBookPro5,4|MacBookPro5,3|MacBookPro5,3|MacBookPro5,3|MacBookPro5,2|MacBookPro5,2|MacBookPro7,1|MacBookPro7,1|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,1|MacBookPro6,1|MacBookPro6,1|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro12,1|MacBookPro12,1|MacBookPro12,1|MacBookPro11,4|MacBookPro11,4|MacBookPro11,4|MacBookPro11,5|MacBookPro11,5|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini4,1|Macmini4,1|Macmini4,1|Macmini5,1|Macmini5,2|Macmini5,2|Macmini5,3|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|Macmini7,1|Macmini7,1|Macmini7,1|Macmini7,1|MacPro3,1|MacPro3,1|MacPro3,1|MacPro3,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1|Xserve3,1|Xserve3,1|Xserve3,1|Xserve3,1)"
COMPATIBLE_MACOS_10_10_REGEX="^(iMac7,1|iMac7,1|iMac7,1|iMac7,1|iMac8,1|iMac8,1|iMac8,1|iMac8,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac9,1|iMac10,1|iMac10,1|iMac10,1|iMac10,1|iMac11,1|iMac11,1|iMac11,2|iMac11,2|iMac11,2|iMac11,3|iMac11,3|iMac11,3|iMac11,3|iMac12,1|iMac12,1|iMac12,1|iMac12,2|iMac12,2|iMac12,2|iMac12,1|iMac13,1|iMac13,1|iMac13,1|iMac13,2|iMac13,2|iMac13,2|iMac13,1|iMac14,1|iMac14,3|iMac14,3|iMac14,2|iMac14,2|iMac14,2|iMac14,4|MacBook5,1|MacBook5,1|MacBook5,2|MacBook5,2|MacBook6,1|MacBook7,1|MacBookAir2,1|MacBookAir2,1|MacBookAir2,1|MacBookAir2,1|MacBookAir3,1|MacBookAir3,1|MacBookAir3,2|MacBookAir3,2|MacBookAir4,1|MacBookAir4,1|MacBookAir4,2|MacBookAir4,2|MacBookAir4,2|MacBookAir5,1|MacBookAir5,1|MacBookAir5,2|MacBookAir5,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookAir6,1|MacBookAir6,1|MacBookAir6,2|MacBookAir6,2|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro3,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro4,1|MacBookPro5,1|MacBookPro5,1|MacBookPro5,1|MacBookPro5,2|MacBookPro5,2|MacBookPro5,1|MacBookPro5,1|MacBookPro5,5|MacBookPro5,5|MacBookPro5,4|MacBookPro5,3|MacBookPro5,3|MacBookPro5,3|MacBookPro5,2|MacBookPro5,2|MacBookPro7,1|MacBookPro7,1|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,2|MacBookPro6,1|MacBookPro6,1|MacBookPro6,1|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro8,1|MacBookPro8,1|MacBookPro8,2|MacBookPro8,2|MacBookPro8,2|MacBookPro8,3|MacBookPro8,3|MacBookPro9,2|MacBookPro9,2|MacBookPro9,1|MacBookPro9,1|MacBookPro9,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,2|MacBookPro10,1|MacBookPro10,1|MacBookPro10,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|MacBookPro11,1|MacBookPro11,1|MacBookPro11,1|MacBookPro11,2|MacBookPro11,2|MacBookPro11,2|MacBookPro11,3|MacBookPro11,3|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini3,1|Macmini4,1|Macmini4,1|Macmini4,1|Macmini5,1|Macmini5,2|Macmini5,2|Macmini5,3|Macmini6,1|Macmini6,2|Macmini6,2|Macmini6,2|Macmini6,2|MacPro3,1|MacPro3,1|MacPro3,1|MacPro3,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro4,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro5,1|MacPro6,1|MacPro6,1|MacPro6,1|MacPro6,1|Xserve3,1|Xserve3,1|Xserve3,1|Xserve3,1)"

# Check if the Mac is compatible with macOS_15
if [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_14_REGEX ]]; then
    echo "14"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_13_REGEX ]]; then
    echo "13"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_12_REGEX ]]; then
    echo "12"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_11_REGEX ]]; then
    echo "11"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_15_REGEX ]]; then
    echo "10.15"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_14_REGEX ]]; then
    echo "10.14"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_13_REGEX ]]; then
    echo "10.13"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_12_REGEX ]]; then
    echo "10.12"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_11_REGEX ]]; then
    echo "10.11"
elif [[ $MAC_MODEL =~ $COMPATIBLE_MACOS_10_10_REGEX ]]; then
    echo "10.10"
else
    echo "N/A"
fi
